


<script type="text/javascript" src="https://cdn.jsdelivr.net/jquery/latest/jquery.min.js"></script>
<script type="text/javascript" src="https://cdn.jsdelivr.net/momentjs/latest/moment.min.js"></script>
<script type="text/javascript" src="https://cdn.jsdelivr.net/npm/daterangepicker/daterangepicker.min.js"></script>
<link rel="stylesheet" type="text/css" href="https://cdn.jsdelivr.net/npm/daterangepicker/daterangepicker.css" />


<h1>Welcome to <%= guest.username%>'s Appointment Plannar</h1>

    <!-- form for picking slot to be marked as off hours -->
    <form action="/api/slot/mark-as-off" method="POST">
        <input type="text" name="datetimes" style="text-align: center;width: 250px;cursor: pointer;padding: 5px 10px; border: 1px solid #ccc;background: #fff;"/>
        <button type="submit">Book Appointment</button>
    </form>


    <script>
        $(function() {
          $('input[name="datetimes"]').daterangepicker({
            timePicker: true,
            // opens: 'left',
            drops: 'down',
            minDate: moment().subtract(1, 'seconds'),
            startDate: moment().startOf('hour'),
            endDate: moment().startOf('hour').add(5, 'hour'),
            timePickerIncrement: 30,
            locale: {
              // format: 'M/DD hh:mm A'
              format: 'MMM D hh:mm A'
            }
          }, function(start, end, label){
            console.log("new slot selection: " + start.format('MMM D') + "to" + end.format('MMM D'));
          });
        });
        </script>